<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta name="description" content="OnLine –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤ Python">
    <meta name="author" content="OnLine –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤ Python">
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,300,400,500,700,900" rel="stylesheet">
    <!-- optional PyScript CSS -->
    <link rel="stylesheet" href="https://pyscript.net/snapshots/2023.09.1.RC1/core.css">
    <!-- This script tag bootstraps PyScript -->
    <!script type="module" src="https://pyscript.net/snapshots/2023.09.1.RC1/core.js"><!/script>
    <script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"></script>

    <title>Online generate QR by Leonov MN</title>

    <div id="fullpage" class="fullpage-default">
        <div class="section animated-row" data-section="slide01" style="max-width: 100%;height: auto;"><br><br>
            <div class="input-field" style="margin: 5% 10%; position: block; text-shadow: #000000 3px 3px 3px;">
                <input type="text" class="form-control" name="input_text" id="input_text" required placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ">
                <button class="btn" type="submit" py-click="get_url">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥</button>
            </div>
            <div class="input-field" style="margin: 0 10%; position: block; text-shadow: #000000 3px 3px 3px;">
                <p>–í–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</p>
                <label type="text" class="form-control" name="text_show" id="text_show" style="max-width: 100%; height: auto;"></label>
                <p>–í–∞—à QR-–∫–æ–¥:</p>
                <a id="down">üëâ...–°–æ—Ö—Ä–∞–Ω–∏—Ç—å QR-–∫–æ–¥...üëà</a>
                <div class="contact-row" id="qr_show" style="margin: 0 auto; width: 300px; text-shadow: #000000 3px 3px 3px;"></div>
            </div>
            <p>link rel="stylesheet" href="https://pyscript.net/snapshots/2023.09.1.RC1/core.css"</p>
            <p>script type="module" src="https://pyscript.net/releases/2023.11.1/core.js"</p>
            <div>
                <script type="py" config='{ "packages": [ "qrcode" , "Pillow" ] }' output="qr_show">

                    try:
                        from pyscript import display, window, document
                        import qrcode
                        from PIL import Image

                        def get_url(*args):
                            document.getElementById("qr_show").innerHTML = ""
                            document.getElementById("text_show").innerHTML = ""
                            url = document.getElementById("input_text").value
                            img = qrcode.make(url)
                            display(url, target="text_show")
                            display(img, target="qr_show")

                            href = document.getElementById("qr_show").innerHTML
                            src = href[href.find('="')+2:href.find('></')-1]
                            link = f'<a id="down" href="{src}" download="QR_code_for_{url}.png">üëâ...–°–æ—Ö—Ä–∞–Ω–∏—Ç—å QR-–∫–æ–¥...üëà</a>'
                            document.getElementById("down").innerHTML = link

                    except Exception as exc:
                        display(exc)
                </script>
            </div>
        </div>


        <div class="section animated-row" data-section="slide02">
            <div class="section-inner">
                <p class="animate" data-animate="fadeInUp" style="color:#ffffff; font-size: 32px;
                font-weight: bolder;
                line-height: 100% ; text-shadow: #000000 3px 15px 30px;">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:</p>
                <textarea class="form-control" name="message"
                          style="margin: 0 0; position: block; max-width: 100%; height: 300px; text-shadow: #000000 3px 3px 3px;">
.....
–ü–∏—à–∏—Ç–µ –≤ Telegram (—Å—Å—ã–ª–∫–∞ —Å–ø—Ä–∞–≤–∞)
—Ç–µ–ª. 89251725485
.....
                </textarea>
            </div>
        </div>
    </div>